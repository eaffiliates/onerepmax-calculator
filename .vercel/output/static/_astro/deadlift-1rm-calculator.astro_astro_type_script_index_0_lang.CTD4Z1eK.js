import{c as E,f as h}from"./formulas.DWyL16yr.js";import{g as f,c as b,p as L}from"./permalink.JJuONHLe.js";let i="lb",u=null;const a=document.getElementById("weight"),r=document.getElementById("reps"),m=document.getElementById("calculate-btn"),o=document.getElementById("kg-btn"),l=document.getElementById("lb-btn"),v=document.getElementById("results-section"),c=document.getElementById("validation-error"),I=document.getElementById("median-result"),d=document.getElementById("share-btn");function k(){const t=L();t.weight&&(a.value=t.weight.toString()),t.reps&&(r.value=t.reps.toString()),t.units&&(i=t.units,g()),t.weight&&t.reps&&p()}function g(){i==="kg"?(o.classList.add("bg-white","text-gray-900","shadow-md"),o.classList.remove("text-gray-600"),l.classList.add("text-gray-600"),l.classList.remove("bg-white","text-gray-900","shadow-md")):(l.classList.add("bg-white","text-gray-900","shadow-md"),o.classList.remove("text-gray-600"),o.classList.add("text-gray-600"),o.classList.remove("bg-white","text-gray-900","shadow-md"))}function y(t){if(i===t)return;const e=parseFloat(a.value);if(!isNaN(e)){const s=b(e,i,t);a.value=s.toFixed(t==="kg"?1:0)}a.step=t==="kg"?"0.5":"1";const n=document.getElementById("weight-help");n&&(n.textContent=`Weight you lifted (in ${t})`),i=t,g(),u&&x(u)}function B(){const t=parseFloat(a.value),e=parseInt(r.value);return isNaN(t)||t<=0?"Please enter a valid weight greater than 0":isNaN(e)||e<1||e>12?"Please enter reps between 1 and 12 for accurate estimates":null}function p(){const t=B();if(t){c.textContent=t,c.classList.remove("hidden"),m.disabled=!0,N();return}c.classList.add("hidden"),m.disabled=!1,w()}function w(){try{const t=parseFloat(a.value),e=parseInt(r.value);if(isNaN(t)||isNaN(e))throw new Error("Invalid input values");const n=E(t,e);u=n,x(n),R()}catch(t){console.error("Error calculating 1RM:",t),c.textContent="Error calculating 1RM. Please check your inputs.",c.classList.remove("hidden")}}function x(t){v.classList.remove("hidden");const e=i==="kg",n=typeof h=="function"?h:C;I.textContent=n(t.median,e),document.getElementById("min-result").textContent=n(t.min,e),document.getElementById("max-result").textContent=n(t.max,e);const s=`Deadlift 1RM calculated: ${n(t.median,e)} with range from ${n(t.min,e)} to ${n(t.max,e)}`;F(s)}function C(t,e){const n=e?.5:1;return`${(Math.round(t/n)*n).toFixed(e?1:0)} ${e?"kg":"lb"}`}function N(){v.classList.add("hidden")}function R(){if(typeof window>"u")return;const t=parseFloat(a.value),e=parseInt(r.value);if(!isNaN(t)&&!isNaN(e)){const s=f({weight:t,reps:e,units:i});window.history.replaceState({},"",s)}}function F(t){const e=document.createElement("div");e.setAttribute("aria-live","polite"),e.setAttribute("aria-atomic","true"),e.style.position="absolute",e.style.left="-10000px",e.textContent=t,document.body.appendChild(e),setTimeout(()=>document.body.removeChild(e),1e3)}o.addEventListener("click",()=>y("kg"));l.addEventListener("click",()=>y("lb"));a.addEventListener("input",p);r.addEventListener("input",p);m.addEventListener("click",w);d.addEventListener("click",async()=>{const t=f({weight:parseFloat(a.value),reps:parseInt(r.value),units:i});try{await navigator.clipboard.writeText(t),d.textContent="âœ“ Copied!",setTimeout(()=>d.textContent="ðŸ“‹ Copy Link",2e3)}catch(e){console.error("Failed to copy link:",e)}});k();g();
